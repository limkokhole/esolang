#!/usr/bin/expect -f
spawn ../COMPILAC -q ./advent.i /tmp/adb.i
proc cmd command {
	expect {
		"THERE IS A LITTLE AXE HERE.*>" {
			send "get axe\n"
			expect "OK"
			exp_continue
		}
		"\n>" { send "${command}\n" }
	}
}
cmd n
cmd e
cmd "get lamp"
cmd xyzzy
cmd on
cmd e
cmd "get cage"
cmd invent
cmd pit
cmd e
cmd "get bird"
cmd w
cmd d
cmd s
cmd "get gold"
cmd n
cmd n
cmd "free bird"
cmd invent
cmd "get bird"
cmd "drop cage"
cmd invent
cmd s
cmd "get jewel"
cmd n
cmd w
cmd "get coins"
cmd e
cmd n
cmd "get silver"
cmd n
cmd plover
cmd ne
cmd "get pyramid"
cmd "read tablet"
cmd s
cmd "get emerald"
cmd invent
cmd plover
cmd invent
cmd plugh
cmd invent
cmd "drop pyramid"
cmd "drop coins"
cmd "drop jewel"
cmd "drop silver"
cmd "drop gold"
cmd "get bottle"
cmd "get food"
cmd "get keys"
cmd invent
cmd plugh
cmd s
cmd d
cmd bedquilt
cmd slab
cmd s
cmd d
cmd "pour water"
cmd invent
cmd u
cmd w
cmd u
cmd reservoir
cmd "get water"
cmd invent
cmd s
cmd s
cmd d
cmd s
cmd d
cmd "pour water"
cmd u
cmd e
cmd d
cmd "get oil"
cmd u
cmd w
cmd d
cmd climb
cmd w
cmd "get eggs"
cmd n
cmd invent
cmd "pour oil"
cmd invent
cmd n
cmd "get trident"
cmd w
cmd d
cmd "drop bottle"
cmd sw
cmd u
cmd cross
cmd "toss eggs"
cmd cross
cmd ne
cmd barren
cmd e
cmd "feed bear"
cmd "open chain"
cmd "get chain"
cmd "get bear"
cmd w
cmd fork
cmd ne
cmd e
cmd "get spice"
cmd fork
cmd w
cmd w
cmd cross
cmd "free bear"
cmd cross
cmd sw
cmd d
cmd "drop keys"
cmd bedquilt
cmd e
cmd n
cmd "open clam"
cmd d
cmd d
cmd "get pearl"
cmd u
cmd u
cmd s
cmd u
cmd e
cmd u
cmd n
cmd plugh
cmd invent
cmd "drop chain"
cmd "drop spice"
cmd "drop trident"
cmd "drop pearl"
cmd plugh
cmd s
cmd d
cmd bedquilt
cmd w
cmd oriental
cmd n
cmd w
cmd e
cmd "drop axe"
cmd "drop lamp"
cmd e
cmd "get emerald"
cmd w
cmd "get lamp"
cmd nw
cmd s
cmd "get vase"
cmd se
cmd e
cmd "get pillow"
cmd w
cmd w
cmd w
cmd d
cmd climb
cmd w
cmd fee
cmd fie
cmd foe
cmd foo
cmd "get eggs"
cmd s
cmd d
cmd u
cmd w
cmd u
cmd s
cmd "kill dragon"
cmd yes
cmd "get rug"
cmd e
cmd e
cmd n
cmd n
cmd plugh
cmd invent
cmd "drop rug"
cmd "drop pillow"
cmd "drop vase"
cmd "drop emerald"
cmd "drop eggs"
cmd xyzzy
cmd "get rod"
cmd pit
cmd d
cmd w
cmd "wave rod"
cmd w
cmd "get diamond"
cmd w
cmd s
cmd e
cmd s
cmd s
cmd s
cmd n
cmd e
cmd n
cmd e
cmd nw
cmd "get chest"
cmd "get diamond"
cmd se
cmd n
cmd d
cmd debris
cmd xyzzy
cmd invent
cmd "drop rod"
cmd "drop chest"
cmd "drop diamond"
cmd plugh
cmd s
cmd d
cmd bedquilt
cmd e
cmd e
cmd read
cmd "read magazine"
cmd off
cmd "get magazine"
cmd read
cmd "read magazine"
cmd on
cmd e
cmd "drop magazine"
cmd n
cmd sw
cmd "get rod"
cmd ne
cmd "drop rod"
cmd sw
cmd blast
cmd quit
cmd y
expect "POINTS.\n"
